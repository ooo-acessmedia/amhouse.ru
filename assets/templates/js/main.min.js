!function(a) {
    "use strict";
    function b() {
        function b(b) {
            a(".calc table th").eq(1).find("p").text(a(".calc select option:selected").text()), 
            "eu" === a(".calc select option:selected").val() ? a(".calc table th").eq(1).find("img").attr("src", "/images/calc/2-1.png") : a(".calc table th").eq(1).find("img").attr("src", "/images/calc/2.png");
            var c = a(".calc select option:selected").val();
            "kr" == c ? a(".calc table td:nth-child(1)").each(function() {
                var b = parseInt(a(this).text());
                a(this).next().text((parseInt(a(".calc input").val()) * (b / 100)).toFixed(0));
                var b = parseInt(a(this).text());
                a(this).next().next().text((parseInt(a(".calc input").val()) * (b / 100) / 12).toFixed(0));
            }) : a(".calc table td:nth-child(1)").each(function() {
                var c = parseInt(a(this).text());
                a(this).next().text((parseInt(a(".calc input").val()) * (c / 100)).toFixed(0));
                var c = parseInt(a(this).text()), d = (parseInt(a(".calc input").val()) * (c / 100) / 12 * parseFloat(b)).toFixed(0);
                a(this).next().next().text(d);
            });
        }
        a.get("/curse.php", function(c) {
            a(".calc table button").click(function() {
                b(c);
            }), a(".calc table input").keypress(function(a) {
                var d = a.charCode || a.keyCode;
                13 === d && b(c);
            });
        });
    }
    a("#tv-projectcategory_0").on("change", function() {
        0 === a("#tv-projectcategory_0 :selected").data().sort ? (a("#mse2_filters").find(">fieldset").not("#mse2_tv-projectcategory").addClass("is-vis-hidden"), 
        a("#tv-projectrooms_0").prop("disabled", "true"), a("#tv-projectsizefilter_0").prop("disabled", "true"), 
        a("#tv-projectpricefilter_0").prop("disabled", "true"), a("#mse2_tvprojectparking_0").prop("checked", !1).prop("disabled", !0), 
        a("#mse2_tvprojectbox_0").prop("checked", !1).prop("disabled", !0), a("#mse2_tvprojectveranda_0").prop("checked", !1).prop("disabled", !0)) : a("#mse2_filters").find(">fieldset").not("#mse2_tv-projectcategory").removeClass("is-vis-hidden");
    }), a(".msearch-results").appendTo(".filter-results"), a(".filter-button").on("click", function() {
        var a = location.search;
        localStorage.setItem("filterUrl", a), localStorage.setItem("outerPage", "1");
    }), "/proektyi/" === location.pathname && "1" === localStorage.getItem("outerPage") && (location.search = localStorage.getItem("filterUrl"), 
    localStorage.setItem("outerPage", "2"), a(".filter-button").addClass("is-vis-hidden")), 
    a(".fancybox").fancybox({
        "max-width": "80%",
        "max-height": "80%"
    });
    var c = a(".m-newhouses-slider");
    c.owlCarousel({
        items: 3,
        loop: !0,
        nav: !0,
        navText: [ "", "" ],
        margin: 37
    });
    var d = a(".main-questions .block");
    d.mCustomScrollbar({
        scrollButtons: {
            enable: !0
        }
    });
    var e = a(".questions-item"), f = e.eq(0);
    f.find(".questions-item-text").addClass("is-visible"), e.find(".questions-item-title").on("click", function() {
        a(this).parent().find(".questions-item-text").toggleClass("is-visible");
    });
    var g = new ScrollMagic.Controller(), h = a(".teasers-item:gt(1)").addClass("animated").css("visibility", "hidden");
    h.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "slideInDown").addTo(g);
    });
    var i = a(".service-page .item").addClass("animated");
    i.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "fadeInRight").addTo(g);
    });
    var j = a(".investments-page table tbody tr td");
    j.addClass("animated"), j.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "fadeInLeft").addTo(g);
    });
    var k = a(".investments-page .more-info");
    k.addClass("animated"), k.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-500).setClassToggle(this, "fadeInUp").addTo(g);
    });
    var l = a(".buy-estate-page .items-block .item");
    l.addClass("animated"), l.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "fadeInLeft").addTo(g);
    });
    var m = a(".bottom-block .left"), n = a(".bottom-block .right");
    m.addClass("animated"), n.addClass("animated"), m.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "fadeInDown").addTo(g);
    }), n.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "fadeInDown").addTo(g);
    });
    var o = a(".payments-block .item");
    o.addClass("animated"), o.each(function() {
        new ScrollMagic.Scene({
            triggerElement: this
        }).offset(-250).setClassToggle(this, "fadeInLeft").addTo(g);
    });
    var p = a(".vertical-slider"), q = p.find(".vertical-slider-container").silverTrack({
        perPage: 3,
        itemClass: "item",
        mode: "vertical",
        animationAxis: "y"
    });
    q.install(new SilverTrack.Plugins.Navigator({
        prev: a(".vertical-slider-prev", p),
        next: a(".vertical-slider-next", p)
    })), q.start(), p.find(".vertical-slider-container > div").size() < 1 && p.addClass("is-hidden");
    var r = a(".calculator-button");
    r.on("click", function() {
        var b, c = a(this).parents(".m-calculator").find(".calculator-title input"), d = a(this).parents(".m-calculator").find(".calc-credit-year input"), e = a(this).parents(".m-calculator").find(".calc-bank-credit input"), f = a(this).parents(".m-calculator").find(".calc-bid input"), g = a(this).parents(".m-calculator").find(".calc-montly-pay"), h = c.val(), i = d.val(), j = e.val() / 100, k = f.val() / 100;
        b = k / 12 * (h * j) / (1 - 1 / Math.pow(1 + k / 12, 12 * i)), isNaN(b) ? (b = "Введите числовые значения", 
        a(this).parents(".m-calculator").find(".calculator-error").html(b)) : (b = Math.floor(b), 
        g.html(b), a(this).parents(".m-calculator").find(".calculator-error").html(""));
    });
    var s, t = a(".table-ipotech"), u = a(".calc-popup"), v = a(".calc-fade"), w = a(".table-callout"), x = a(".investments-page .more-info"), y = a(".form-popup"), z = (a(".form-fade"), 
    a(".form-popup-close")), A = a(".apart-fade"), B = a(".apart-callout"), C = a(".fade-standart"), D = a(".popup-standart"), E = a(".apartments-page-block .m-main-btn, .calculator-button"), F = a(".mainhouse-popup"), G = a(".mainhouse-fade"), H = function(b, c, d) {
        b.on("click", function() {
            c.add(d).addClass("is-visible fade-in"), setTimeout(function() {
                c.add(d).removeClass("fade-in");
            }, 300);
            var b = a(this).siblings(".table-price").text();
            b = b.replace(/\s+/g, ""), b = parseInt(b), c.find(".calculator-title input").val(b);
            var e = a(this).siblings(".apartments-name").text(), f = a(this).siblings(".apartments-planning").find("a").attr("href"), g = a(this).siblings(".apartments-floor").text(), h = a(this).siblings(".apartments-size").text(), i = a(this).siblings(".apartments-balcony").text(), j = a(this).siblings(".apartments-polisad").text(), k = a(this).siblings(".apartments-price").text();
            c.find("#apartments-number").val(e), c.find("#apartments-planning").val(f), c.find("#apartments-floor").val(g), 
            c.find("#apartments-size").val(h), c.find("#apartments-balcony").val(i), c.find("#apartments-polisad").val(j), 
            c.find("#apartments-price").val(k);
        }), d.add(z).on("click", function() {
            c.add(d).addClass("fade-out"), setTimeout(function() {
                c.add(d).removeClass("is-visible fade-out");
            }, 300);
        });
    };
    H(t, u, v), H(w, B, A), H(x, D, C), H(E, F, G), y.find("input").add(y.add("textarea")).focus(function() {
        s = a(this).attr("placeholder"), a(this).data("placeholder", s), a(this).attr("placeholder", "");
    }).blur(function() {
        s = a(this).data("placeholder"), a(this).attr("placeholder", s);
    });
    var I = function() {
        var b = a(window).width(), c = y.width();
        y.css({
            left: b / 2 - c / 2
        });
    };
    I(), a(window).resize(function() {
        I();
    });
    var J = a(".payments-block .title span");
    if (J.on("click", function() {
        J.removeClass("active"), a(this).addClass("active");
        var b = a(".payments-block .bottom .bottom-item");
        b.removeClass("is-visible"), b.eq(a(this).data().index).addClass("is-visible");
    }), 5 === a("body").data().id) {
        var K = a(".right-block"), L = a(".left-block");
        K.find(".item").on("click", function() {
            var b = a(this).html(), c = a(this).data().text;
            L.html(b), a(".description-block").html(c);
            var d = a(this).index();
            d = "index-" + d, L.removeClass("index-0 index-1 index-2 index-3 index-4 index-5 index-6 index-7"), 
            L.addClass(d);
        });
    }
    b();
}(jQuery);